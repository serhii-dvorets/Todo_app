{"version":3,"sources":["components/TodoList.jsx","components/TodosFilter.jsx","components/TodoApp.jsx","components/localStorage.jsx","App.jsx","index.jsx"],"names":["TodoList","todoList","onCompleted","onRemove","onUpdate","useState","editingId","setEditingId","updatedTitle","setUpdatedTitle","handleChange","e","key","className","map","todo","classNames","completed","editing","id","onDoubleClick","onBlur","type","checked","onChange","title","onClick","value","target","onKeyDown","TodosFilter","onFilter","filter","setFilter","href","TodoApp","inputText","setInputText","initialValue","window","item","localStorage","getItem","JSON","parse","error","storedValue","setStoredValue","useEffect","setItem","stringify","useLocalStorageState","setTodoList","allTodosCompleted","setAllTodosCompleted","filterType","setFilterType","unCompletedTodos","updateInput","useCallback","onSubmit","preventDefault","Date","placeholder","length","completedTodos","htmlFor","todos","filteredTodos","completedTodoId","status","find","updatedTodoList","removedTodoId","newTodos","newValue","todoToUpdateId","updatedTodos","newType","onlyInCompletedTodos","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d65f6f0.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport classNames from 'classnames';\n\nexport const TodoList = ({\n  todoList,\n  onCompleted,\n  onRemove,\n  onUpdate,\n}) => {\n  const [editingId, setEditingId] = useState();\n  const [updatedTitle, setUpdatedTitle] = useState('');\n\n  const handleChange = (e) => {\n    if (e.key === 'Enter') {\n      onUpdate(updatedTitle, editingId);\n      setEditingId(-1);\n    }\n\n    if (e.key === 'Escape') {\n      setEditingId(-1);\n    }\n  };\n\n  return (\n    <ul className=\"todo-list\">\n      {todoList.map(todo => (\n        <li\n          key={todo.id}\n          className={classNames(\n            { completed: todo.completed },\n            { editing: editingId === todo.id },\n          )}\n          onDoubleClick={() => {\n            setEditingId(todo.id);\n          }}\n          onBlur={() => {\n            onUpdate(updatedTitle, editingId);\n            setEditingId(-1);\n          }}\n        >\n          <div className=\"view\">\n            <input\n              type=\"checkbox\"\n              className=\"toggle\"\n              checked={todo.completed}\n              onChange={() => {\n                onCompleted(todo.id);\n              }}\n            />\n            <label>\n              {todo.title}\n            </label>\n            <button\n              type=\"button\"\n              className=\"destroy\"\n              onClick={() => {\n                onRemove(todo.id);\n              }}\n            />\n          </div>\n          <input\n            type=\"text\"\n            className=\"edit\"\n            value={updatedTitle || todo.title}\n            onChange={(e) => {\n              setUpdatedTitle(e.target.value);\n            }}\n            onKeyDown={handleChange}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React, { useState } from 'react';\n\nexport const TodosFilter = ({ onFilter }) => {\n  const [filter, setFilter] = useState('all');\n\n  return (\n    <ul className=\"filters\">\n      <li>\n        <a\n          href=\"#/\"\n          className={filter === 'all' ? 'selected' : ''}\n          onClick={() => {\n            onFilter('all');\n            setFilter('all');\n          }}\n        >\n          All\n        </a>\n      </li>\n\n      <li>\n        <a\n          href=\"#/active\"\n          className={filter === 'active' ? 'selected' : ''}\n          onClick={() => {\n            onFilter('active');\n            setFilter('active');\n          }}\n        >\n          Active\n        </a>\n      </li>\n\n      <li>\n        <a\n          href=\"#/completed\"\n          className={filter === 'completed' ? 'selected' : ''}\n          onClick={() => {\n            onFilter('completed');\n            setFilter('completed');\n          }}\n        >\n          Completed\n        </a>\n      </li>\n    </ul>\n  );\n};\n","import React, { useCallback, useState } from 'react';\nimport { useLocalStorageState } from './localStorage';\nimport { TodoList } from './TodoList';\nimport { TodosFilter } from './TodosFilter';\n\nexport const TodoApp = () => {\n  const [inputText, setInputText] = useState('');\n  const [todoList, setTodoList] = useLocalStorageState('todos', []);\n  const [allTodosCompleted, setAllTodosCompleted] = useState(false);\n  const [filterType, setFilterType] = useState('all');\n\n  const unCompletedTodos = todoList.filter(todo => !todo.completed);\n\n  const toggleAll = () => {\n    let completedTodos;\n\n    if (allTodosCompleted) {\n      completedTodos = todoList.map(todo => ({\n        ...todo, completed: false,\n      }));\n      setAllTodosCompleted(false);\n    } else {\n      completedTodos = todoList.map(todo => ({\n        ...todo, completed: true,\n      }));\n      setAllTodosCompleted(true);\n    }\n\n    setTodoList(completedTodos);\n  };\n\n  const addTodo = (e) => {\n    e.preventDefault();\n    if (inputText) {\n      const todo = {\n        id: +new Date(),\n        title: inputText,\n        completed: false,\n      };\n\n      setTodoList([...todoList, todo]);\n      setInputText('');\n    }\n  };\n\n  const updateTodo = (newValue, todoToUpdateId) => {\n    if (!newValue) {\n      return;\n    }\n\n    const updatedTodos = todoList.map((todo) => {\n      if (todo.id !== todoToUpdateId) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        title: newValue,\n      };\n    });\n\n    setTodoList(updatedTodos);\n  };\n\n  const toggleCompleted = (completedTodoId) => {\n    const todoToChange = todoList.find(todo => todo.id === completedTodoId);\n    const status = todoToChange.completed;\n\n    const updatedTodoList = todoList.map((todo) => {\n      if (todo.id !== completedTodoId) {\n        return todo;\n      }\n\n      return {\n        ...todo,\n        completed: !status,\n      };\n    });\n\n    const uncomplitedTodos = todoList.find(todo => !todo.completed);\n\n    if (!uncomplitedTodos) {\n      setAllTodosCompleted(false);\n    }\n\n    setTodoList(updatedTodoList);\n  };\n\n  const removeTodo = (removedTodoId) => {\n    const newTodos = todoList.filter(todo => todo.id !== removedTodoId);\n\n    setTodoList(newTodos);\n  };\n\n  const filteredTodos = (type) => {\n    let todos;\n\n    switch (type) {\n      case 'all':\n        todos = [...todoList];\n        break;\n      case 'active':\n        todos = [...todoList].filter(todo => !todo.completed);\n        break;\n      case 'completed':\n        todos = [...todoList].filter(todo => todo.completed);\n        break;\n\n      default:\n        break;\n    }\n\n    return todos;\n  };\n\n  const setFilter = (newType) => {\n    setFilterType(newType);\n  };\n\n  const clearCompleted = () => {\n    const onlyInCompletedTodos = todoList.filter(todo => !todo.completed);\n\n    setTodoList(onlyInCompletedTodos);\n  };\n\n  const updateInput = useCallback((e) => {\n    setInputText(e.target.value);\n  });\n\n  return (\n    <>\n      <header className=\"header\">\n        <h1>todos</h1>\n\n        <form\n          onSubmit={addTodo}\n        >\n          <input\n            type=\"text\"\n            value={inputText}\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            onChange={updateInput}\n          />\n        </form>\n      </header>\n\n      {todoList.length > 0 && (\n        <>\n          <section className=\"main\">\n            <input\n              type=\"checkbox\"\n              checked={unCompletedTodos.length === 0}\n              id=\"toggle-all\"\n              className=\"toggle-all\"\n              onClick={toggleAll}\n            />\n            <label htmlFor=\"toggle-all\">Mark all as complete</label>\n\n          </section>\n          <TodoList\n            todoList={filteredTodos(filterType)}\n            onCompleted={toggleCompleted}\n            onRemove={removeTodo}\n            onUpdate={updateTodo}\n          />\n          <footer className=\"footer\">\n            {unCompletedTodos.length === 1 ? (\n              <span className=\"todo-count\">\n                {unCompletedTodos.length}\n                &nbsp;item left\n              </span>\n            ) : (\n              <span className=\"todo-count\">\n                {unCompletedTodos.length}\n                &nbsp;items left\n              </span>\n            )}\n\n            <TodosFilter onFilter={setFilter} />\n\n            <button\n              type=\"button\"\n              className=\"clear-completed\"\n              onClick={clearCompleted}\n            >\n              Clear completed\n            </button>\n          </footer>\n        </>\n      )}\n    </>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const useLocalStorageState = (key, initialValue) => {\n  const [storedValue, setStoredValue] = useState(() => {\n    if (typeof window === 'undefined') {\n      return initialValue;\n    }\n\n    try {\n      const item = window.localStorage.getItem(key);\n\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      return initialValue;\n    }\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(storedValue));\n  }, [storedValue]);\n\n  return [storedValue, setStoredValue];\n};\n","import React from 'react';\nimport { TodoApp } from './components/TodoApp';\n\nfunction App() {\n  return (\n    <section className=\"todoapp\">\n      <TodoApp />\n    </section>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './styles/index.css';\nimport './styles/todo-list.css';\nimport './styles/filters.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}